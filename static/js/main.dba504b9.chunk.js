(this.webpackJsonpbetter_than_predator=this.webpackJsonpbetter_than_predator||[]).push([[0],{30:function(e,t,n){var r={"./en/translation.json":[42,3]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,3)}))}a.keys=function(){return Object.keys(r)},a.id=30,e.exports=a},32:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),s=n.n(c),i=n(8),l=n(15),o=n(7),u=n(19),h=n.n(u),d=n(25);l.a.use(h()((function(e,t,r){n(30)("./".concat(e,"/").concat(t,".json")).then((function(e){return r(null,e)})).catch((function(e){return r(e,null)}))}))).use(d.a).use(o.e).init({fallbackLng:"en",debug:!0,react:{useSuspense:!1},interpolation:{escapeValue:!1}});l.a;var b=n(2),j=n(43),f=n(5),p=n.n(f),m=n(9),x=n(3),v=n(22),O=n.n(v),w="7fde67af78a621923d00705787723896";function g(e){return"https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(w)}function y(e){var t={query:e,api_key:w,page:1,include_adult:!1,search_type:"ngram"},n=Object.entries(t).map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return void 0!==r?"".concat(n,"=").concat(encodeURIComponent(r)):""})).join("&");return"https://api.themoviedb.org/3/search/movie?".concat(n)}function k(e){var t=O()(e.title).toLocaleLowerCase();return{id:e.id,title:e.title,slug:t,releaseDate:new Date(e.release_date),voteAverage:e.vote_average,voteCount:e.vote_count,posterPath:"http://image.tmdb.org/t/p/original/".concat(e.poster_path),tmbdLink:"https://www.themoviedb.org/movie/".concat(e.id,"-").concat(t)}}function N(e){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Need a valid film ID")));case 2:return e.next=4,fetch(g(t),{method:"GET"});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,a=k(r),e.abrupt("return",Promise.resolve(a));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y(t),{method:"GET"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,a=((null===r||void 0===r?void 0:r.results)||[]).map(k).filter((function(e){return 106!==e.id&&e.voteCount>0})),e.abrupt("return",Promise.resolve(a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(32);var S=n(1);var I,A=function(){var e=Object(r.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(x.a)(c,2),l=s[0],o=s[1],u=Object(r.useState)([]),h=Object(x.a)(u,2),d=h[0],j=h[1],f=Object(r.useState)(0),v=Object(x.a)(f,2),O=v[0],w=v[1],g=Object(r.useState)(null),y=Object(x.a)(g,2),k=y[0],N=y[1],E=Object(b.f)();function P(e){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.t0=j,e.next=4,_(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1),o(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){k&&window.clearTimeout(k),n.length<2?j([]):N(window.setTimeout(P,400,n))}),[n]),Object(S.jsxs)("div",{className:" flex items-center justify-center flex-wrap w-full md:w-2/3 lg:w-1/2 p-4 mr-auto ml-auto relative z-10 ",children:[Object(S.jsx)("input",{value:n,onChange:function(e){return a(e.target.value)},onKeyUp:function(e){if(e.preventDefault(),"ArrowUp"===e.key&&w(Math.max(O-1,0)),"ArrowDown"===e.key&&w(Math.min(O+1,d.length-1)),"Enter"===e.key){var t=d[O];E("/versus/".concat(t.id,"/").concat(t.slug,"/"))}},type:"search",placeholder:"Find a film...",className:"".concat(l&&"loading"," w-full bg-grey-lighter text-grey-darker text-3xl p-2 rounded-sm appearance-none focus:outline-none focus:shadow-outline")}),Object(S.jsx)("ul",{className:"w-full list-reset bg-black absolute top-20 px-4",children:d.map((function(e,t){return Object(S.jsx)("li",{className:"block",onMouseEnter:function(){return w(t)},children:Object(S.jsx)(i.b,{to:"/versus/".concat(e.id,"/").concat(e.slug,"/"),className:"".concat(t===O?"bg-gray-900":""," block text-xl text-white no-underline p-2 w-full hover:bg-gray-900"),children:"".concat(e.title," (").concat(e.releaseDate.getFullYear(),")")})},e.id)}))})]})},D=["title","titleId"];function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function F(e,t){var n=e.title,a=e.titleId,c=C(e,D);return r.createElement("svg",M({width:41,height:72,xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",preserveAspectRatio:"xMidYMid meet",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,I||(I=r.createElement("path",{d:"m19.86385,1.29369c-5.75097,-0.42987 -11.50201,-0.85968 -17.25299,-1.28955c-1.0755,-0.08038 -3.17822,1.02063 -2.4671,2.44336c2.57794,5.15766 5.15588,10.31537 7.73376,15.47309c1.11206,2.22485 6.04895,1.47125 4.84412,-0.93934c-1.54639,-3.09381 -3.09271,-6.18762 -4.6391,-9.28149c3.59509,2.1369 6.84998,5.39453 9.41071,8.40106c12.45282,14.62042 16.99755,34.77741 19.19561,53.34595c0.26484,2.23688 4.95641,3.55939 4.62408,0.75195c-2.32117,-19.60767 -7.33031,-40.60943 -20.51581,-55.96351c-2.97955,-3.4696 -6.74823,-7.21997 -10.98157,-9.73852c3.3194,0.2481 6.6388,0.49621 9.95819,0.74432c3.1366,0.23438 3.19696,-3.71515 0.09009,-3.94733z"})))}var L=r.forwardRef(F);n.p;var B,T=function(){var e=Object(j.a)().t;return Object(S.jsxs)("div",{className:"justify center pt-10",children:[Object(S.jsx)(A,{}),Object(S.jsxs)("div",{className:"transform rotate-6 w-3/4 sm:w-1/2 md:w-1/3 mx-auto text-center",children:[Object(S.jsx)("div",{className:"w-5 mx-auto mb-5",children:Object(S.jsx)(L,{viewBox:"0 0 41 72",className:"fill-white h-full w-auto"})}),Object(S.jsx)("h2",{className:"text-3xl text-center text-white font-cursive",children:e("searchInstruction","Type any film, and find out if its better than Predator")})]})]})},G=n(44);function R(e){var t=e.percent,n="".concat(t,", 100");return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36",children:[Object(S.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#eee",strokeWidth:"4"}),Object(S.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#CD2E1B",strokeWidth:"4",strokeDasharray:n})]})})}var U=["title","titleId"];function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function H(e,t){var n=e.title,a=e.titleId,c=z(e,U);return r.createElement("svg",W({width:191,height:191,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,B||(B=r.createElement("path",{d:"M191 83.563H45.72l66.731-66.731L95.5 0 0 95.5 95.5 191l16.832-16.832-66.611-66.73H191z",fillRule:"nonzero",fill:"#FFF"})))}var K=r.forwardRef(H);n.p;var Y=function(){var e=Object(j.a)().t,t=Object(b.g)().filmId,n=106,a=Object(r.useState)([]),c=Object(x.a)(a,2),s=c[0],l=c[1],o=Object(r.useState)(!0),u=Object(x.a)(o,2),h=u[0],d=u[1];function f(){return(f=Object(m.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Promise.all([n,t].map(N));case 3:r=e.sent,l(r.sort((function(e){return e.id===n?-1:1}))),d(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]);var v=s.sort((function(e,t){return t.voteAverage-e.voteAverage}))[0],O=(new Date).getFullYear();return Object(S.jsx)(S.Fragment,{children:!h&&Object(S.jsxs)("div",{className:"p-4",children:[Object(S.jsx)("h1",{className:" title w-full md:w-1/2 text-white text-5xl text-center block md:float-right mb-6 pb-6 border-b border-white border-dashed ",children:e("winnerAnnounce","{{winner}} wins!",{winner:v.title})}),Object(S.jsx)("div",{className:"films w-full md:w-1/2 flex block md:float-left mb-8",children:s.map((function(e){return Object(S.jsxs)("a",{className:"bg-white p-2 mr-4",href:e.tmbdLink,target:"_blank",rel:"noreferrer",children:[Object(S.jsx)("img",{alt:e.title,src:e.posterPath,width:"400"}),Object(S.jsxs)("div",{className:"flex items-center pt-4 justify-between",children:[Object(S.jsxs)("span",{className:"text-6xl",children:[e.voteAverage,Object(S.jsx)("span",{className:"text-grey text-4xl -ml-1 hidden sm:inline md:hidden lg:inline",children:"/ 10"})]}),Object(S.jsx)("span",{className:"h-14 w-14",children:Object(S.jsx)(R,{percent:10*e.voteAverage})})]})]},e.id)}))}),Object(S.jsxs)("div",{className:"blurb text-white w-full md:w-1/2 float-right",children:[Object(S.jsx)("h3",{className:"text-3xl mb-6 text-4xl",children:e("whyExist","Why does this even exist?")}),Object(S.jsx)("p",{className:"mb-6 text-2xl",children:Object(S.jsxs)(G.a,{i18nKey:"reasonAndCredit",children:["Because ",Object(S.jsx)("a",{href:"https://www.linssen.me/",children:"Wil"}),", ",Object(S.jsx)("a",{href:"http://gregorywood.co.uk/",children:"Greg"}),", and Glen were in a pub once and they thought you should be able to compare films to Predator. It is after all the ultimate benchmark."]})}),Object(S.jsxs)(i.b,{to:"/",className:"inline-flex text-2xl text-white no-underline relative whitespace-nowrap bg-gray-600 mr-5",children:[Object(S.jsx)("span",{className:"p-2 pt-3 bg-black",children:Object(S.jsx)(K,{viewBox:"0 0 191 191",className:"flex-1 h-6 w-12"})}),Object(S.jsx)("span",{className:"py-2 px-6",children:e("again!","Again!")})]}),Object(S.jsx)("p",{className:"text-base",children:Object(S.jsxs)(G.a,{i18nKey:"copyright",children:["Copyright \xa9 ",{year:O}," ",Object(S.jsx)("a",{href:"http://linssen.me/",children:"Wil Linssen"}),", and all of the code is ",Object(S.jsx)("a",{href:"http://github.com/linssen/better_than_predator",children:"on GitHub"}),".",Object(S.jsx)("br",{}),"Powered by",Object(S.jsx)("a",{href:"https://www.themoviedb.org/",children:"themoviedb.org"}),"."]})})]})]})})};var J=function(){return Object(S.jsx)("h1",{children:"Not found"})};var q=function(){return Object(S.jsxs)(b.c,{children:[Object(S.jsx)(b.a,{path:"/",element:Object(S.jsx)(T,{})}),Object(S.jsx)(b.a,{path:"/versus/:filmId/:filmSlug/",element:Object(S.jsx)(Y,{})}),Object(S.jsx)(b.a,{path:"*",element:Object(S.jsx)(J,{})})]})};n(40);s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(i.a,{children:Object(S.jsx)("div",{className:"container mx-auto font-sans",children:Object(S.jsx)(q,{})})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.dba504b9.chunk.js.map