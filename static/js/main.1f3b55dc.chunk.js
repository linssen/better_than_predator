(this.webpackJsonpbetter_than_predator=this.webpackJsonpbetter_than_predator||[]).push([[0],{30:function(e,t,r){var n={"./en/translation.json":[42,3]};function a(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return r.e(t[1]).then((function(){return r.t(a,3)}))}a.keys=function(){return Object.keys(n)},a.id=30,e.exports=a},32:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(17),i=r.n(c),s=r(8),l=r(15),o=r(7),u=r(19),h=r.n(u),b=r(25);l.a.use(h()((function(e,t,n){r(30)("./".concat(e,"/").concat(t,".json")).then((function(e){return n(null,e)})).catch((function(e){return n(e,null)}))}))).use(b.a).use(o.e).init({fallbackLng:"en",debug:!0,react:{useSuspense:!1},interpolation:{escapeValue:!1}});l.a;var d=r(2),f=r(43),j=r(5),p=r.n(j),m=r(9),x=r(3),O=r(22),v=r.n(O),w="7fde67af78a621923d00705787723896";function g(e){return"https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(w)}function y(e){var t={query:e,api_key:w,page:1,include_adult:!1,search_type:"ngram"},r=Object.entries(t).map((function(e){var t=Object(x.a)(e,2),r=t[0],n=t[1];return void 0!==n?"".concat(r,"=").concat(encodeURIComponent(n)):""})).join("&");return"https://api.themoviedb.org/3/search/movie?".concat(r)}function k(e){var t=v()(e.title).toLocaleLowerCase();return{id:e.id,title:e.title,slug:t,releaseDate:new Date(e.release_date),voteAverage:e.vote_average,voteCount:e.vote_count,posterPath:"http://image.tmdb.org/t/p/original/".concat(e.poster_path),tmbdLink:"https://www.themoviedb.org/movie/".concat(e.id,"-").concat(t)}}function N(e){return E.apply(this,arguments)}function E(){return(E=Object(m.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Need a valid film ID")));case 2:return e.next=4,fetch(g(t),{method:"GET"});case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,a=k(n),e.abrupt("return",Promise.resolve(a));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return _.apply(this,arguments)}function _(){return(_=Object(m.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y(t),{method:"GET"});case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,a=((null===n||void 0===n?void 0:n.results)||[]).map(k).filter((function(e){return 106!==e.id})),e.abrupt("return",Promise.resolve(a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(32);var S=r(1);var I,F=function(){var e=Object(n.useState)(""),t=Object(x.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),i=Object(x.a)(c,2),l=i[0],o=i[1],u=Object(n.useState)([]),h=Object(x.a)(u,2),b=h[0],f=h[1],j=Object(n.useState)(0),O=Object(x.a)(j,2),v=O[0],w=O[1],g=Object(n.useState)(null),y=Object(x.a)(g,2),k=y[0],N=y[1],E=Object(d.f)();function _(e){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.t0=f,e.next=4,P(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1),o(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){k&&window.clearTimeout(k),r.length<2?f([]):N(window.setTimeout(_,400,r))}),[r]),Object(S.jsxs)("div",{className:" flex items-center justify-center flex-wrap w-full md:w-2/3 lg:w-1/2 p-4 mr-auto ml-auto relative z-10 ",children:[Object(S.jsx)("input",{value:r,onChange:function(e){return a(e.target.value)},onKeyUp:function(e){if(e.preventDefault(),"ArrowUp"===e.key&&w(Math.max(v-1,0)),"ArrowDown"===e.key&&w(Math.min(v+1,b.length-1)),"Enter"===e.key){var t=b[v];E("/versus/".concat(t.id,"/").concat(t.slug,"/"))}},type:"search",placeholder:"Find a film...",className:"".concat(l&&"loading"," w-full bg-grey-lighter text-grey-darker text-3xl p-2 rounded-sm appearance-none focus:outline-none focus:shadow-outline")}),Object(S.jsx)("ul",{className:"w-full list-reset bg-black absolute top-20 px-4",children:b.map((function(e,t){return Object(S.jsx)("li",{className:"block",onMouseEnter:function(){return w(t)},children:Object(S.jsx)(s.b,{to:"/versus/".concat(e.id,"/").concat(e.slug,"/"),className:"".concat(t===v?"bg-gray-900":""," block text-xl text-white no-underline p-2 w-full hover:bg-gray-900"),children:"".concat(e.title," (").concat(e.releaseDate.getFullYear(),")")})},e.id)}))})]})},A=["title","titleId"];function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}function M(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function C(e,t){var r=e.title,a=e.titleId,c=M(e,A);return n.createElement("svg",D({width:41,height:72,xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",preserveAspectRatio:"xMidYMid meet",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,I||(I=n.createElement("path",{d:"m19.86385,1.29369c-5.75097,-0.42987 -11.50201,-0.85968 -17.25299,-1.28955c-1.0755,-0.08038 -3.17822,1.02063 -2.4671,2.44336c2.57794,5.15766 5.15588,10.31537 7.73376,15.47309c1.11206,2.22485 6.04895,1.47125 4.84412,-0.93934c-1.54639,-3.09381 -3.09271,-6.18762 -4.6391,-9.28149c3.59509,2.1369 6.84998,5.39453 9.41071,8.40106c12.45282,14.62042 16.99755,34.77741 19.19561,53.34595c0.26484,2.23688 4.95641,3.55939 4.62408,0.75195c-2.32117,-19.60767 -7.33031,-40.60943 -20.51581,-55.96351c-2.97955,-3.4696 -6.74823,-7.21997 -10.98157,-9.73852c3.3194,0.2481 6.6388,0.49621 9.95819,0.74432c3.1366,0.23438 3.19696,-3.71515 0.09009,-3.94733z"})))}var L=n.forwardRef(C);r.p;var T,B=function(){var e=Object(f.a)().t;return Object(S.jsxs)("div",{className:"justify center pt-10",children:[Object(S.jsx)(F,{}),Object(S.jsxs)("div",{className:"transform rotate-6 w-3/4 sm:w-1/2 md:w-1/3 mx-auto text-center",children:[Object(S.jsx)("div",{className:"w-5 mx-auto mb-5",children:Object(S.jsx)(L,{viewBox:"0 0 41 72",className:"fill-white h-full w-auto"})}),Object(S.jsx)("h2",{className:"text-3xl text-center text-white font-cursive",children:e("searchInstruction","Type any film, and find out if its better than Predator")})]})]})},R=r(44);function z(e){var t=e.percent,r="".concat(t,", 100");return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36",children:[Object(S.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#eee",strokeWidth:"4"}),Object(S.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#CD2E1B",strokeWidth:"4",strokeDasharray:r})]})})}var G=["title","titleId"];function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U.apply(this,arguments)}function W(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function H(e,t){var r=e.title,a=e.titleId,c=W(e,G);return n.createElement("svg",U({width:236,height:192,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,T||(T=n.createElement("path",{d:"M74.4 191.5c88.7 0 137.2-73.5 137.2-137.2 0-2.1 0-4.2-.1-6.2 9.4-6.8 17.6-15.3 24.1-25-8.6 3.8-17.9 6.4-27.7 7.6 10-6 17.6-15.4 21.2-26.7-9.3 5.5-19.6 9.5-30.6 11.7C189.7 6.3 177.2.5 163.3.5c-26.6 0-48.2 21.6-48.2 48.2 0 3.8.4 7.5 1.3 11-40.1-2-75.6-21.2-99.4-50.4-4.1 7.1-6.5 15.4-6.5 24.2C10.5 50.2 19 65 32 73.6c-7.9-.2-15.3-2.4-21.8-6v.6c0 23.4 16.6 42.8 38.7 47.3-4 1.1-8.3 1.7-12.7 1.7-3.1 0-6.1-.3-9.1-.9 6.1 19.2 23.9 33.1 45 33.5-16.5 12.9-37.3 20.6-59.9 20.6-3.9 0-7.7-.2-11.5-.7 21.1 13.8 46.5 21.8 73.7 21.8",fillRule:"nonzero",fill:"#FFF"})))}var K,Y=n.forwardRef(H),J=(r.p,["title","titleId"]);function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}function V(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Q(e,t){var r=e.title,a=e.titleId,c=V(e,J);return n.createElement("svg",q({width:191,height:191,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,K||(K=n.createElement("path",{d:"M191 83.563H45.72l66.731-66.731L95.5 0 0 95.5 95.5 191l16.832-16.832-66.611-66.73H191z",fillRule:"nonzero",fill:"#FFF"})))}var X=n.forwardRef(Q);r.p;var Z=function(){var e=Object(f.a)().t,t=Object(d.g)().filmId,r=106,a=Object(n.useState)([]),c=Object(x.a)(a,2),i=c[0],l=c[1],o=Object(n.useState)(!0),u=Object(x.a)(o,2),h=u[0],b=u[1];function j(){return(j=Object(m.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Promise.all([r,t].map(N));case 3:n=e.sent,l(n.sort((function(e){return e.id===r?-1:1}))),b(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]);var O=i.sort((function(e,t){return t.voteAverage-e.voteAverage}))[0],v=(new Date).getFullYear();return Object(S.jsx)(S.Fragment,{children:!h&&Object(S.jsxs)("div",{className:"p-4",children:[Object(S.jsx)("h1",{className:" title w-full md:w-1/2 text-white text-5xl text-center block md:float-right mb-6 pb-6 border-b border-white border-dashed ",children:e("winnerAnnounce","{{winner}} wins!",{winner:O.title})}),Object(S.jsx)("div",{className:"films w-full md:w-1/2 flex block md:float-left mb-8",children:i.map((function(e){return Object(S.jsxs)("a",{className:"bg-white p-2 mr-4",href:e.tmbdLink,target:"_blank",rel:"noreferrer",children:[Object(S.jsx)("img",{alt:e.title,src:e.posterPath,width:"400"}),Object(S.jsxs)("div",{className:"flex items-center pt-4 justify-between",children:[Object(S.jsxs)("span",{className:"text-6xl",children:[e.voteAverage,Object(S.jsx)("span",{className:"text-grey text-4xl -ml-1 hidden sm:inline md:hidden lg:inline",children:"/ 10"})]}),Object(S.jsx)("span",{className:"h-14 w-14",children:Object(S.jsx)(z,{percent:10*e.voteAverage})})]})]},e.id)}))}),Object(S.jsxs)("div",{className:"blurb text-white w-full md:w-1/2 float-right",children:[Object(S.jsx)("h3",{className:"text-3xl mb-6 text-4xl",children:e("whyExist","Why does this even exist?")}),Object(S.jsx)("p",{className:"mb-6 text-2xl",children:Object(S.jsxs)(R.a,{i18nKey:"reasonAndCredit",children:["Because ",Object(S.jsx)("a",{href:"https://www.linssen.me/",children:"Wil"}),", ",Object(S.jsx)("a",{href:"http://gregorywood.co.uk/",children:"Greg"}),", and Glen were in a pub once and they thought you should be able to compare films to Predator. It is after all the ultimate benchmark."]})}),Object(S.jsxs)(s.b,{to:"/",className:"inline-flex text-2xl text-white no-underline relative whitespace-nowrap bg-gray-600 mr-5",children:[Object(S.jsx)("span",{className:"p-2 pt-3 bg-black",children:Object(S.jsx)(X,{viewBox:"0 0 191 191",className:"icon-twitter flex-1 h-6 w-12"})}),Object(S.jsx)("span",{className:"py-2 px-6",children:e("again!","Again!")})]}),Object(S.jsxs)("a",{href:"https://twitter.com/",className:"inline-flex text-2xl text-white no-underline relative whitespace-nowrap bg-gray-600 mb-6",target:"_blank",rel:"noreferrer",children:[Object(S.jsx)("span",{className:"p-2 pt-3 bg-black",children:Object(S.jsx)(Y,{viewBox:"0 0 236 192",className:"icon-twitter flex-1 h-6 w-12"})}),Object(S.jsx)("span",{className:"py-2 px-6",children:e("tweetThis","Tweet this")})]}),Object(S.jsx)("p",{className:"text-base",children:Object(S.jsxs)(R.a,{i18nKey:"copyright",children:["Copyright \xa9 ",{year:v}," ",Object(S.jsx)("a",{href:"http://linssen.me/",children:"Wil Linssen"}),", and all of the code is ",Object(S.jsx)("a",{href:"http://github.com/linssen/better_than_predator",children:"on GitHub"}),".",Object(S.jsx)("br",{}),"Powered by",Object(S.jsx)("a",{href:"https://www.themoviedb.org/",children:"themoviedb.org"}),"."]})})]})]})})};var $=function(){return Object(S.jsx)("h1",{children:"Not found"})};var ee=function(){return Object(S.jsxs)(d.c,{children:[Object(S.jsx)(d.a,{path:"/",element:Object(S.jsx)(B,{})}),Object(S.jsx)(d.a,{path:"/versus/:filmId/:filmSlug/",element:Object(S.jsx)(Z,{})}),Object(S.jsx)(d.a,{path:"*",element:Object(S.jsx)($,{})})]})};r(40);i.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(s.a,{children:Object(S.jsx)("div",{className:"container mx-auto font-sans",children:Object(S.jsx)(ee,{})})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.1f3b55dc.chunk.js.map